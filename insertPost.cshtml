@{
    Validation.RequireField("postID", "postID is required.");
    Validation.RequireField("title", "Title is required.");
    Validation.RequireField("date", "Date is required.");
    Validation.RequireField("content", "Content is required.");
    Validation.RequireField("author", "Author is required.");

    var db = Database.Open("BlogDB");
    var postID = Request.Form["postID"];
    var title = Request.Form["title"];
    var date = Request.Form["date"];
    var content = Request.Form["content"];
    var author = Request.Form["author"];

    if (IsPost && Validation.IsValid())
    {
        // Define the insert query. The values to assign to the
        // columns in the Product table are defined as parameters
        // with the VALUES keyword.
        if (ModelState.IsValid)
        {
            var insertQuery = "INSERT INTO Product (postID, title, date, content, author) " +
                "VALUES (@0, @1, @2, @3, @4)";
            db.Execute(insertQuery, postID, title, date, content, author);
            // Display the page that lists products.
            Response.Redirect("~/ListPosts");
        }
    }
}

<!DOCTYPE html>
<html>
<head>
    <title>Add Blog Post to Database</title>
    <style type="text/css">
        label {
            float: left;
            width: 8em;
            text-align: right;
            margin-right: 0.5em;
        }

        fieldset {
            padding: 1em;
            border: 1px solid;
            width: 50em;
        }

        legend {
            padding: 2px 4px;
            border: 1px solid;
            font-weight: bold;
        }

        .validation-summary-errors {
            font-weight: bold;
            color: red;
            font-size: 11pt;
        }
    </style>
</head>
<body>
    <h1>Add Blog Post</h1>

    @Html.ValidationSummary("Errors with your submission:")

    <form method="post" action="">
        <fieldset>
            <legend>Add Post</legend>
            <div>
                <label>postID:</label>
                <input name="postID" type="text" size="50" value="@postID" />
            </div>
            <div>
                <label>title:</label>
                <input name="Title" type="text" size="50"
                       value="@title" />
            </div>
            <div>
                <label>Date:</label>
                <input name="Date" type="text" size="50" value="@date" />
            </div>
            <div>
                <label>content:</label>
                <input name="content" type="text" size="50" value="@content" />
            </div>
            <div>
                <label>author:</label>
                <input name="author" type="text" size="50" value="@author" />
            </div>
            <div>
                <label>&nbsp;</label>
                <input type="submit" value="Insert" class="submit" />
            </div>
        </fieldset>
    </form>
</body>
</html>
